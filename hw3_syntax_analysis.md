1. 개요
===

이번 과제는 의미 검사(sementics)를 제외한 문법 검사(syntax tree)를 수행하여 파싱트리를 생성하는 코드로부터 원시코드를 생성하는 것을 목적으로 한다. 프로그램의 사용자는 그림에서 lex의 규칙과 yacc의 문법 규칙을 만드는 작업을 해야 한다. 이전 과제에서는 바로 위의 lex, yacc 파일과 그것으로부터 파생되는 lex.yy.c, yy.tab.c 만을 이용했다면, 이번 과제에서는 문법 검사를 위한 syntax.c가 추가된 점이 가장 다른 점이라 할 수 있다.

2. 상세설계
===

2-1. 파서 처리 과정
---

LR 파서를 기본으로 하기 때문에 문법 검사 시에 최하위 요소로부터 상위 요소로 합쳐진다. 이것을 만드는 문법을 거꾸로 적어보면 아래와 같다.

예)

- 요소(변수=IDENTIFIER, 인자=ARG) -> 요소들
- 요소들 -> 식
- 식 -> 문장(STATEMENT)
- 문장 -> 문장들(STATEMENT LIST)
- 문장들 -> 몸체(BODY)
- 몸체 -> 프로그램(N_PROGRAM)

이것을 거꾸로 수행하면 그것이 원래의 문법이고, 현재 `print.c`가 파싱트리를 생성하는 방법이다.

2-2. 오류 잡기
---

주어진 코드를 타이핑하는 과정에서 발생한 오류는 다음과 같다.

1. 문법 오류 : yywrap의 리턴 인자 1 대신 0
2. 출력 오류 : 존재하지 않는 하위 노드 출력

1. yywrap은 토큰을 다 읽었을 때(프로세스 종료시), 0을 반환하면 추가적인 동작을 요구하기 때문에 이 부분이 구현되어 있지 않으면 무한 루프에 빠진다. 반면, 1은 수행을 마쳤음을 의미한다. (http://epaperpress.com/lexandyacc/prl.html 참조)
2. `print.c`에서 `void prt_initializer(A_NODE *node, int s)` 함수는 하위 노드를 위한 함수를 재귀적으로 호출하기 때문에 더이상 존재하지 않는 노드에 대한 예외처리가 필요하다.

2-3. 파싱 트리 사례 분석

2-4. 원시 코드 변경 아이디어

3. 구현 방법

4. 결과

5. 소스코드
